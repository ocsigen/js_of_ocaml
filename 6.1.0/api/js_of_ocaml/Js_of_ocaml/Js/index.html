<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Js (js_of_ocaml.Js_of_ocaml.Js)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">js_of_ocaml</a> &#x00BB; <a href="../index.html">Js_of_ocaml</a> &#x00BB; Js</nav><header class="odoc-preamble"><h1>Module <code><span>Js_of_ocaml.Js</span></code></h1><p>Javascript binding</p><p>This module provides types and functions to interoperate with Javascript values, and gives access to Javascript standard objects.</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#dealing-with-null-and-undefined-values.">Dealing with <code>null</code> and <code>undefined</code> values.</a></li><li><a href="#types-for-specifying-method-and-properties-of-javascript-objects">Types for specifying method and properties of Javascript objects</a></li><li><a href="#object-constructors">Object constructors</a></li><li><a href="#callbacks-to-ocaml">Callbacks to OCaml</a></li><li><a href="#javascript-comparisons">Javascript comparisons</a></li><li><a href="#javascript-standard-objects">Javascript standard objects</a></li><li><a href="#standard-javascript-functions">Standard Javascript functions</a></li><li><a href="#conversion-functions-between-javascript-and-ocaml-types">Conversion functions between Javascript and OCaml types</a></li><li><a href="#convenience-coercion-functions">Convenience coercion functions</a></li><li><a href="#type-checking-operators.">Type checking operators.</a></li><li><a href="#debugging-operations.">Debugging operations.</a></li><li><a href="#export-functionality.">Export functionality.</a></li><li><a href="#unsafe-operations.">Unsafe operations.</a></li><li><a href="#deprecated-functions-and-types.">Deprecated functions and types.</a></li></ul></nav></div><div class="odoc-content"><h3 id="dealing-with-null-and-undefined-values."><a href="#dealing-with-null-and-undefined-values." class="anchor"></a>Dealing with <code>null</code> and <code>undefined</code> values.</h3><div class="odoc-spec"><div class="spec type anchored" id="type-opt"><a href="#type-opt" class="anchor"></a><code><span><span class="keyword">type</span> <span>+'a opt</span></span></code></div><div class="spec-doc"><p>Type of possibly null values.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-optdef"><a href="#type-optdef" class="anchor"></a><code><span><span class="keyword">type</span> <span>+'a optdef</span></span></code></div><div class="spec-doc"><p>Type of possibly undefined values.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-null"><a href="#val-null" class="anchor"></a><code><span><span class="keyword">val</span> null : <span><span class="type-var">'a</span> <a href="#type-opt">opt</a></span></span></code></div><div class="spec-doc"><p>The <code>null</code> value.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-some"><a href="#val-some" class="anchor"></a><code><span><span class="keyword">val</span> some : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-opt">opt</a></span></span></code></div><div class="spec-doc"><p>Consider a value into a possibly null value.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-undefined"><a href="#val-undefined" class="anchor"></a><code><span><span class="keyword">val</span> undefined : <span><span class="type-var">'a</span> <a href="#type-optdef">optdef</a></span></span></code></div><div class="spec-doc"><p>The <code>undefined</code> value</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-def"><a href="#val-def" class="anchor"></a><code><span><span class="keyword">val</span> def : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-optdef">optdef</a></span></span></code></div><div class="spec-doc"><p>Consider a value into a possibly undefined value.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-OPT"><a href="#module-type-OPT" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-OPT/index.html">OPT</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Signatures of a set of standard functions for manipulating optional values.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Opt"><a href="#module-Opt" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Opt/index.html">Opt</a></span><span> : <a href="module-type-OPT/index.html">OPT</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="module-type-OPT/index.html#type-t">t</a></span> = <span><span class="type-var">'a</span> <a href="#type-opt">opt</a></span></span></span></code></div><div class="spec-doc"><p>Standard functions for manipulating possibly null values.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Optdef"><a href="#module-Optdef" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Optdef/index.html">Optdef</a></span><span> : <a href="module-type-OPT/index.html">OPT</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="module-type-OPT/index.html#type-t">t</a></span> = <span><span class="type-var">'a</span> <a href="#type-optdef">optdef</a></span></span></span></code></div><div class="spec-doc"><p>Standard functions for manipulating possibly undefined values.</p></div></div><h3 id="types-for-specifying-method-and-properties-of-javascript-objects"><a href="#types-for-specifying-method-and-properties-of-javascript-objects" class="anchor"></a>Types for specifying method and properties of Javascript objects</h3><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>+'a t</span></span></code></div><div class="spec-doc"><p>Type of Javascript objects. The type parameter is used to specify more precisely an object.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-meth"><a href="#type-meth" class="anchor"></a><code><span><span class="keyword">type</span> <span>+'a meth</span></span></code></div><div class="spec-doc"><p>Type used to specify method types: a Javascript object <code>&lt;m : t1 -&gt; t2 -&gt; ... -&gt; tn -&gt; t Js.meth&gt; Js.t</code> has a Javascript method <code>m</code> expecting <i>n</i> arguments of types <code>t1</code> to <code>tn</code> and returns a value of type <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-gen_prop"><a href="#type-gen_prop" class="anchor"></a><code><span><span class="keyword">type</span> <span>+'a gen_prop</span></span></code></div><div class="spec-doc"><p>Type used to specify the properties of Javascript objects. In practice you should rarely need this type directly, but should rather use the type abbreviations below instead.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-readonly_prop"><a href="#type-readonly_prop" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a readonly_prop</span></span><span> = <span><span>&lt; get : <span class="type-var">'a</span> &gt;</span> <a href="#type-gen_prop">gen_prop</a></span></span></code></div><div class="spec-doc"><p>Type of read-only properties: a Javascript object <code>&lt;p : t Js.readonly_prop&gt; Js.t</code> has a read-only property <code>p</code> of type <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-writeonly_prop"><a href="#type-writeonly_prop" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a writeonly_prop</span></span><span> = <span><span>&lt; set : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit &gt;</span> <a href="#type-gen_prop">gen_prop</a></span></span></code></div><div class="spec-doc"><p>Type of write-only properties: a Javascript object <code>&lt;p : t Js.writeonly_prop&gt; Js.t</code> has a write-only property <code>p</code> of type <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-prop"><a href="#type-prop" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a prop</span></span><span> = <span><span>&lt; get : <span class="type-var">'a</span> ; set : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit &gt;</span> <a href="#type-gen_prop">gen_prop</a></span></span></code></div><div class="spec-doc"><p>Type of read/write properties: a Javascript object <code>&lt;p : t Js.writeonly_prop&gt; Js.t</code> has a read/write property <code>p</code> of type <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-optdef_prop"><a href="#type-optdef_prop" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a optdef_prop</span></span><span> = <span><span>&lt; get : <span><span class="type-var">'a</span> <a href="#type-optdef">optdef</a></span> ; set : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit &gt;</span> <a href="#type-gen_prop">gen_prop</a></span></span></code></div><div class="spec-doc"><p>Type of read/write properties that may be undefined: you can set them to a value of some type <code>t</code>, but if you read them, you will get a value of type <code>t optdef</code> (that may be <code>undefined</code>).</p></div></div><h3 id="object-constructors"><a href="#object-constructors" class="anchor"></a>Object constructors</h3><div class="odoc-spec"><div class="spec type anchored" id="type-constr"><a href="#type-constr" class="anchor"></a><code><span><span class="keyword">type</span> <span>+'a constr</span></span></code></div><div class="spec-doc"><p>A value of type <code>(t1 -&gt; ... -&gt; tn -&gt; t Js.t) Js.constr</code> is a Javascript constructor expecting <i>n</i> arguments of types <code>t1</code> to <code>tn</code> and returning a Javascript object of type <code>t Js.t</code>. Use the syntax extension <code>new%js c e1 ... en</code> to build an object using constructor <code>c</code> and arguments <code>e1</code> to <code>en</code>.</p></div></div><h3 id="callbacks-to-ocaml"><a href="#callbacks-to-ocaml" class="anchor"></a>Callbacks to OCaml</h3><div class="odoc-spec"><div class="spec type anchored" id="type-meth_callback"><a href="#type-meth_callback" class="anchor"></a><code><span><span class="keyword">type</span> <span>(-'a, +'b) meth_callback</span></span></code></div><div class="spec-doc"><p>Type of callback functions. A function of type <code>(u, t1 -&gt; ... -&gt; tn -&gt; t) meth_callback</code> can be called from Javascript with <code>this</code> bound to a value of type <code>u</code> and up to <i>n</i> arguments of types <code>t1</code> to <code>tn</code>. The system takes care of currification, so less than <i>n</i> arguments can be provided. As a special case, a callback of type <code>(t, unit -&gt; t) meth_callback</code> can be called from Javascript with no argument. It will behave as if it was called with a single argument of type <code>unit</code>.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-callback"><a href="#type-callback" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a callback</span></span><span> = <span><span>(unit, <span class="type-var">'a</span>)</span> <a href="#type-meth_callback">meth_callback</a></span></span></code></div><div class="spec-doc"><p>Type of callback functions intended to be called without a meaningful <code>this</code> implicit parameter.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-wrap_callback"><a href="#val-wrap_callback" class="anchor"></a><code><span><span class="keyword">val</span> wrap_callback : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'c</span>, <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-meth_callback">meth_callback</a></span></span></code></div><div class="spec-doc"><p>Wrap an OCaml function so that it can be invoked from Javascript.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-wrap_meth_callback"><a href="#val-wrap_meth_callback" class="anchor"></a><code><span><span class="keyword">val</span> wrap_meth_callback : <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'a</span>)</span> <a href="#type-meth_callback">meth_callback</a></span></span></code></div><div class="spec-doc"><p>Wrap an OCaml function so that it can be invoked from Javascript. The first parameter of the function will be bound to the value of the <code>this</code> implicit parameter.</p></div></div><h3 id="javascript-comparisons"><a href="#javascript-comparisons" class="anchor"></a>Javascript comparisons</h3><div class="odoc-spec"><div class="spec value external anchored" id="val-equals"><a href="#val-equals" class="anchor"></a><code><span><span class="keyword">val</span> equals : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Javascript <code>==</code> equality operator.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-strict_equals"><a href="#val-strict_equals" class="anchor"></a><code><span><span class="keyword">val</span> strict_equals : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Javascript <code>===</code> equality operator.</p></div></div><h3 id="javascript-standard-objects"><a href="#javascript-standard-objects" class="anchor"></a>Javascript standard objects</h3><div class="odoc-spec"><div class="spec value anchored" id="val-_true"><a href="#val-_true" class="anchor"></a><code><span><span class="keyword">val</span> _true : <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Javascript <code>true</code> boolean.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-_false"><a href="#val-_false" class="anchor"></a><code><span><span class="keyword">val</span> _false : <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Javascript <code>false</code> boolean.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-match_result_handle"><a href="#type-match_result_handle" class="anchor"></a><code><span><span class="keyword">type</span> match_result_handle</span></code></div><div class="spec-doc"><p>A handle to a match result. Use function <code>Js.match_result</code> to get the corresponding <code>MatchResult</code> object. (This type is used to resolved the mutual dependency between string and array type definitions.)</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-string_array"><a href="#type-string_array" class="anchor"></a><code><span><span class="keyword">type</span> string_array</span></code></div><div class="spec-doc"><p>Opaque type for string arrays. You can get the actual <code>Array</code> object using function <code>Js.str_array</code>. (This type is used to resolved the mutual dependency between string and array type definitions.)</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-normalization"><a href="#type-normalization" class="anchor"></a><code><span><span class="keyword">type</span> normalization</span></code></div><div class="spec-doc"><p>Opaque type for Unicode normalization forms.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nfd"><a href="#val-nfd" class="anchor"></a><code><span><span class="keyword">val</span> nfd : <span><a href="#type-normalization">normalization</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Canonical Decomposition</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nfc"><a href="#val-nfc" class="anchor"></a><code><span><span class="keyword">val</span> nfc : <span><a href="#type-normalization">normalization</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Canonical Decomposition, followed by Canonical Composition</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nfkd"><a href="#val-nfkd" class="anchor"></a><code><span><span class="keyword">val</span> nfkd : <span><a href="#type-normalization">normalization</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Compatibility Decomposition</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nfkc"><a href="#val-nfkc" class="anchor"></a><code><span><span class="keyword">val</span> nfkc : <span><a href="#type-normalization">normalization</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Compatibility Decomposition, followed by Canonical Composition</p></div></div><p>Specification of Javascript number objects.</p><div class="odoc-spec"><div class="spec class-type anchored" id="class-type-number"><a href="#class-type-number" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-number/index.html">number</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class-type anchored" id="class-type-js_string"><a href="#class-type-js_string" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-js_string/index.html">js_string</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Specification of Javascript string objects.</p></div></div><div class="odoc-spec"><div class="spec class-type anchored" id="class-type-regExp"><a href="#class-type-regExp" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-regExp/index.html">regExp</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Specification of Javascript regular expression objects.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-number_t"><a href="#type-number_t" class="anchor"></a><code><span><span class="keyword">type</span> number_t</span><span> = <span><a href="class-type-number/index.html">number</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec class-type anchored" id="class-type-string_constr"><a href="#class-type-string_constr" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-string_constr/index.html">string_constr</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Specification of the string constructor, considered as an object.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_constr"><a href="#val-string_constr" class="anchor"></a><code><span><span class="keyword">val</span> string_constr : <span><a href="class-type-string_constr/index.html">string_constr</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>The string constructor, as an object.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-regExp"><a href="#val-regExp" class="anchor"></a><code><span><span class="keyword">val</span> regExp : <span><span>(<span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-regExp/index.html">regExp</a> <a href="#type-t">t</a></span>)</span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>RegExp</code> objects. The expression <code>new%js regExp s</code> builds the regular expression specified by string <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-regExp_withFlags"><a href="#val-regExp_withFlags" class="anchor"></a><code><span><span class="keyword">val</span> regExp_withFlags : <span><span>(<span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-regExp/index.html">regExp</a> <a href="#type-t">t</a></span>)</span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>RegExp</code> objects. The expression <code>new%js regExp s f</code> builds the regular expression specified by string <code>s</code> using flags <code>f</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-regExp_copy"><a href="#val-regExp_copy" class="anchor"></a><code><span><span class="keyword">val</span> regExp_copy : <span><span>(<span><span><a href="class-type-regExp/index.html">regExp</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-regExp/index.html">regExp</a> <a href="#type-t">t</a></span>)</span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>RegExp</code> objects. The expression <code>new%js regExp r</code> builds a copy of regular expression <code>r</code>.</p></div></div><div class="odoc-spec"><div class="spec class-type anchored" id="class-type-js_array"><a href="#class-type-js_array" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span> 'a </span><span><a href="class-type-js_array/index.html">js_array</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Specification of Javascript regular arrays. Use <code>Js.array_get</code> and <code>Js.array_set</code> to access and set array elements.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-object_keys"><a href="#val-object_keys" class="anchor"></a><code><span><span class="keyword">val</span> object_keys : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Returns jsarray containing keys of the object as Object.keys does.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-array_empty"><a href="#val-array_empty" class="anchor"></a><code><span><span class="keyword">val</span> array_empty : <span><span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="#type-t">t</a></span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>Array</code> objects. The expression <code>new%js array_empty</code> returns an empty array.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-array_length"><a href="#val-array_length" class="anchor"></a><code><span><span class="keyword">val</span> array_length : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="#type-t">t</a></span>)</span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>Array</code> objects. The expression <code>new%js array_length l</code> returns an array of length <code>l</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-array_get"><a href="#val-array_get" class="anchor"></a><code><span><span class="keyword">val</span> array_get : <span><span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-optdef">optdef</a></span></span></code></div><div class="spec-doc"><p>Array access: <code>array_get a i</code> returns the element at index <code>i</code> of array <code>a</code>. Returns <code>undefined</code> if there is no element at this index.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-array_set"><a href="#val-array_set" class="anchor"></a><code><span><span class="keyword">val</span> array_set : <span><span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Array update: <code>array_set a i v</code> puts <code>v</code> at index <code>i</code> in array <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-array_map"><a href="#val-array_map" class="anchor"></a><code><span><span class="keyword">val</span> array_map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Array map: <code>array_map f a</code> is <code>a##map(wrap_callback (fun elt idx arr -&gt; f elt))</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-array_mapi"><a href="#val-array_mapi" class="anchor"></a><code><span><span class="keyword">val</span> array_mapi : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Array mapi: <code>array_mapi f a</code> is <code>a##map(wrap_callback (fun elt idx arr -&gt; f idx elt))</code>.</p></div></div><div class="odoc-spec"><div class="spec class-type anchored" id="class-type-match_result"><a href="#class-type-match_result" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-match_result/index.html">match_result</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Specification of match result objects</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-str_array"><a href="#val-str_array" class="anchor"></a><code><span><span class="keyword">val</span> str_array : <span><span><a href="#type-string_array">string_array</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Convert an opaque <code>string_array t</code> object into an array of string. (Used to resolved the mutual dependency between string and array type definitions.)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-match_result"><a href="#val-match_result" class="anchor"></a><code><span><span class="keyword">val</span> match_result : <span><span><a href="#type-match_result_handle">match_result_handle</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-match_result/index.html">match_result</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Convert a match result handle into a <code>MatchResult</code> object. (Used to resolved the mutual dependency between string and array type definitions.)</p></div></div><div class="odoc-spec"><div class="spec class-type anchored" id="class-type-date"><a href="#class-type-date" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-date/index.html">date</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Specification of Javascript date objects.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date_now"><a href="#val-date_now" class="anchor"></a><code><span><span class="keyword">val</span> date_now : <span><span><a href="class-type-date/index.html">date</a> <a href="#type-t">t</a></span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>Date</code> objects: <code>new%js date_now</code> returns a <code>Date</code> object initialized with the current date.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date_fromTimeValue"><a href="#val-date_fromTimeValue" class="anchor"></a><code><span><span class="keyword">val</span> date_fromTimeValue : <span><span>(<span><a href="#type-number_t">number_t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-date/index.html">date</a> <a href="#type-t">t</a></span>)</span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>Date</code> objects: <code>new%js date_fromTimeValue t</code> returns a <code>Date</code> object initialized with the time value <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date_month"><a href="#val-date_month" class="anchor"></a><code><span><span class="keyword">val</span> date_month : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-date/index.html">date</a> <a href="#type-t">t</a></span>)</span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>Date</code> objects: <code>new%js date_fromTimeValue y m</code> returns a <code>Date</code> object corresponding to year <code>y</code> and month <code>m</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date_day"><a href="#val-date_day" class="anchor"></a><code><span><span class="keyword">val</span> date_day : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-date/index.html">date</a> <a href="#type-t">t</a></span>)</span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>Date</code> objects: <code>new%js date_fromTimeValue y m d</code> returns a <code>Date</code> object corresponding to year <code>y</code>, month <code>m</code> and day <code>d</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date_hour"><a href="#val-date_hour" class="anchor"></a><code><span><span class="keyword">val</span> date_hour : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-date/index.html">date</a> <a href="#type-t">t</a></span>)</span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>Date</code> objects: <code>new%js date_fromTimeValue y m d h</code> returns a <code>Date</code> object corresponding to year <code>y</code> to hour <code>h</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date_min"><a href="#val-date_min" class="anchor"></a><code><span><span class="keyword">val</span> date_min : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-date/index.html">date</a> <a href="#type-t">t</a></span>)</span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>Date</code> objects: <code>new%js date_fromTimeValue y m d h m'</code> returns a <code>Date</code> object corresponding to year <code>y</code> to minute <code>m'</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date_sec"><a href="#val-date_sec" class="anchor"></a><code><span><span class="keyword">val</span> date_sec : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-date/index.html">date</a> <a href="#type-t">t</a></span>)</span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>Date</code> objects: <code>new%js date_fromTimeValue y m d h m' s</code> returns a <code>Date</code> object corresponding to year <code>y</code> to second <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date_ms"><a href="#val-date_ms" class="anchor"></a><code><span><span class="keyword">val</span> date_ms : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-date/index.html">date</a> <a href="#type-t">t</a></span>)</span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>Date</code> objects: <code>new%js date_fromTimeValue y m d h m' s ms</code> returns a <code>Date</code> object corresponding to year <code>y</code> to millisecond <code>ms</code>.</p></div></div><div class="odoc-spec"><div class="spec class-type anchored" id="class-type-date_constr"><a href="#class-type-date_constr" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-date_constr/index.html">date_constr</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Specification of the date constructor, considered as an object.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date"><a href="#val-date" class="anchor"></a><code><span><span class="keyword">val</span> date : <span><a href="class-type-date_constr/index.html">date_constr</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>The date constructor, as an object.</p></div></div><div class="odoc-spec"><div class="spec class-type anchored" id="class-type-math"><a href="#class-type-math" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-math/index.html">math</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Specification of Javascript math object.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-math"><a href="#val-math" class="anchor"></a><code><span><span class="keyword">val</span> math : <span><a href="class-type-math/index.html">math</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>The Math object</p></div></div><div class="odoc-spec"><div class="spec class-type anchored" id="class-type-error"><a href="#class-type-error" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-error/index.html">error</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Specification of Javascript error object.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-error_constr"><a href="#val-error_constr" class="anchor"></a><code><span><span class="keyword">val</span> error_constr : <span><span>(<span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-error/index.html">error</a> <a href="#type-t">t</a></span>)</span> <a href="#type-constr">constr</a></span></span></code></div><div class="spec-doc"><p>Constructor of <code>Error</code> objects: <code>new%js error_constr msg</code> returns an <code>Error</code> object with the message <code>msg</code>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Js_error"><a href="#module-Js_error" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Js_error/index.html">Js_error</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class-type anchored" id="class-type-json"><a href="#class-type-json" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-json/index.html">json</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Specification of Javascript JSON object.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-_JSON"><a href="#val-_JSON" class="anchor"></a><code><span><span class="keyword">val</span> _JSON : <span><a href="class-type-json/index.html">json</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>JSON object</p></div></div><h3 id="standard-javascript-functions"><a href="#standard-javascript-functions" class="anchor"></a>Standard Javascript functions</h3><div class="odoc-spec"><div class="spec value anchored" id="val-decodeURI"><a href="#val-decodeURI" class="anchor"></a><code><span><span class="keyword">val</span> decodeURI : <span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Decode a URI: replace by the corresponding byte all escape sequences but the ones corresponding to a URI reserved character and convert the string from UTF-8 to UTF-16.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decodeURIComponent"><a href="#val-decodeURIComponent" class="anchor"></a><code><span><span class="keyword">val</span> decodeURIComponent : <span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Decode a URIComponent: replace all escape sequences by the corresponding byte and convert the string from UTF-8 to UTF-16.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encodeURI"><a href="#val-encodeURI" class="anchor"></a><code><span><span class="keyword">val</span> encodeURI : <span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Encode a URI: convert the string to UTF-8 and replace all unsafe bytes by the corresponding escape sequence.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-encodeURIComponent"><a href="#val-encodeURIComponent" class="anchor"></a><code><span><span class="keyword">val</span> encodeURIComponent : <span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Same as <code>encodeURI</code>, but also encode URI reserved characters.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-escape"><a href="#val-escape" class="anchor"></a><code><span><span class="keyword">val</span> escape : <span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Escape a string: unsafe UTF-16 code points are replaced by 2-digit and 4-digit escape sequences.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unescape"><a href="#val-unescape" class="anchor"></a><code><span><span class="keyword">val</span> unescape : <span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Unescape a string: 2-digit and 4-digit escape sequences are replaced by the corresponding UTF-16 code point.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-isNaN"><a href="#val-isNaN" class="anchor"></a><code><span><span class="keyword">val</span> isNaN : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parseInt"><a href="#val-parseInt" class="anchor"></a><code><span><span class="keyword">val</span> parseInt : <span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parseFloat"><a href="#val-parseFloat" class="anchor"></a><code><span><span class="keyword">val</span> parseFloat : <span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-number_t">number_t</a></span></code></div></div><h3 id="conversion-functions-between-javascript-and-ocaml-types"><a href="#conversion-functions-between-javascript-and-ocaml-types" class="anchor"></a>Conversion functions between Javascript and OCaml types</h3><div class="odoc-spec"><div class="spec value external anchored" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span><span class="keyword">val</span> bool : <span>bool <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Conversion of booleans from OCaml to Javascript.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-to_bool"><a href="#val-to_bool" class="anchor"></a><code><span><span class="keyword">val</span> to_bool : <span><span>bool <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Conversion of booleans from Javascript to OCaml.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-string"><a href="#val-string" class="anchor"></a><code><span><span class="keyword">val</span> string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Conversion of strings from OCaml to Javascript. (The OCaml string is considered to be encoded in UTF-8 and is converted to UTF-16.)</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Conversion of strings from Javascript to OCaml.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-array"><a href="#val-array" class="anchor"></a><code><span><span class="keyword">val</span> array : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Conversion of arrays from OCaml to Javascript.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-to_array"><a href="#val-to_array" class="anchor"></a><code><span><span class="keyword">val</span> to_array : <span><span><span><span class="type-var">'a</span> <a href="class-type-js_array/index.html">js_array</a></span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p>Conversion of arrays from Javascript to OCaml.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-bytestring"><a href="#val-bytestring" class="anchor"></a><code><span><span class="keyword">val</span> bytestring : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Conversion of strings of bytes from OCaml to Javascript. (Each byte will be converted in an UTF-16 code point.)</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-to_bytestring"><a href="#val-to_bytestring" class="anchor"></a><code><span><span class="keyword">val</span> to_bytestring : <span><span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Conversion of strings of bytes from Javascript to OCaml. (The Javascript string should only contain UTF-16 code points below 255.)</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-float"><a href="#val-float" class="anchor"></a><code><span><span class="keyword">val</span> float : <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-number_t">number_t</a></span></code></div><div class="spec-doc"><p>Conversion of OCaml floats to Javascript numbers.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-to_float"><a href="#val-to_float" class="anchor"></a><code><span><span class="keyword">val</span> to_float : <span><a href="#type-number_t">number_t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Conversion of Javascript numbers to OCaml floats.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-number_of_float"><a href="#val-number_of_float" class="anchor"></a><code><span><span class="keyword">val</span> number_of_float : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-number/index.html">number</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Conversion of OCaml floats to Javascript number objects.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-float_of_number"><a href="#val-float_of_number" class="anchor"></a><code><span><span class="keyword">val</span> float_of_number : <span><span><a href="class-type-number/index.html">number</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Conversion of Javascript number objects to OCaml floats.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-int32"><a href="#val-int32" class="anchor"></a><code><span><span class="keyword">val</span> int32 : <span>int32 <span class="arrow">&#45;&gt;</span></span> <a href="#type-number_t">number_t</a></span></code></div><div class="spec-doc"><p>Conversion of OCaml floats to Javascript numbers.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-to_int32"><a href="#val-to_int32" class="anchor"></a><code><span><span class="keyword">val</span> to_int32 : <span><a href="#type-number_t">number_t</a> <span class="arrow">&#45;&gt;</span></span> int32</span></code></div><div class="spec-doc"><p>Conversion of Javascript numbers to OCaml 32-bits. The given floating-point number is truncated to an integer.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-nativeint"><a href="#val-nativeint" class="anchor"></a><code><span><span class="keyword">val</span> nativeint : <span>nativeint <span class="arrow">&#45;&gt;</span></span> <a href="#type-number_t">number_t</a></span></code></div><div class="spec-doc"><p>Conversion of OCaml 32-bits integers to Javascript numbers.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-to_nativeint"><a href="#val-to_nativeint" class="anchor"></a><code><span><span class="keyword">val</span> to_nativeint : <span><a href="#type-number_t">number_t</a> <span class="arrow">&#45;&gt;</span></span> nativeint</span></code></div><div class="spec-doc"><p>Conversion of Javascript numbers to OCaml native integers. The given floating-point number is truncated to an integer.</p></div></div><h3 id="convenience-coercion-functions"><a href="#convenience-coercion-functions" class="anchor"></a>Convenience coercion functions</h3><div class="odoc-spec"><div class="spec value anchored" id="val-coerce"><a href="#val-coerce" class="anchor"></a><code><span><span class="keyword">val</span> coerce : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="Opt/index.html#type-t">Opt.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span></span></code></div><div class="spec-doc"><p>Apply a possibly failing coercion function. <code>coerce v c f</code> attempts to apply coercion <code>c</code> to value <code>v</code>. If the coercion returns <code>null</code>, function <code>f</code> is called.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-coerce_opt"><a href="#val-coerce_opt" class="anchor"></a><code><span><span class="keyword">val</span> coerce_opt : <span><span><span class="type-var">'a</span> <a href="Opt/index.html#type-t">Opt.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="Opt/index.html#type-t">Opt.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span></span></code></div><div class="spec-doc"><p>Apply a possibly failing coercion function. <code>coerce_opt v c f</code> attempts to apply coercion <code>c</code> to value <code>v</code>. If <code>v</code> is <code>null</code> or the coercion returns <code>null</code>, function <code>f</code> is called. Typical usage is the following:</p><pre class="language-ocaml"><code>Js.coerce_opt (Dom_html.document##getElementById id)
Dom_html.CoerceTo.div (fun _ -&gt; assert false)</code></pre></div></div><h3 id="type-checking-operators."><a href="#type-checking-operators." class="anchor"></a>Type checking operators.</h3><div class="odoc-spec"><div class="spec value external anchored" id="val-typeof"><a href="#val-typeof" class="anchor"></a><code><span><span class="keyword">val</span> typeof : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="class-type-js_string/index.html">js_string</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Returns the type of a Javascript object.</p></div></div><div class="odoc-spec"><div class="spec value external anchored" id="val-instanceof"><a href="#val-instanceof" class="anchor"></a><code><span><span class="keyword">val</span> instanceof : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">_</span> <a href="#type-constr">constr</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Tests whether a Javascript object is an instance of a given class.</p></div></div><h3 id="debugging-operations."><a href="#debugging-operations." class="anchor"></a>Debugging operations.</h3><div class="odoc-spec"><div class="spec value external anchored" id="val-debugger"><a href="#val-debugger" class="anchor"></a><code><span><span class="keyword">val</span> debugger : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Invokes any available debugging functionality. If no debugging functionality is available, it has no effect. In practice, it will insert a &quot;debugger;&quot; statement in the generated javascript.</p></div></div><h3 id="export-functionality."><a href="#export-functionality." class="anchor"></a>Export functionality.</h3><p>Export values to <code>module.exports</code> if it exists or to the global object otherwise.</p><div class="odoc-spec"><div class="spec value anchored" id="val-export"><a href="#val-export" class="anchor"></a><code><span><span class="keyword">val</span> export : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>export name value</code> export <code>name</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-export_all"><a href="#val-export_all" class="anchor"></a><code><span><span class="keyword">val</span> export_all : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>export_all obj</code> export every key of <code>obj</code> object.</p><pre class="language-ocaml"><code>export_all
  object%js
    method add x y = x +. y
    method abs x = abs_float x
    val zero = 0.
  end</code></pre></div></div><h3 id="unsafe-operations."><a href="#unsafe-operations." class="anchor"></a>Unsafe operations.</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Unsafe"><a href="#module-Unsafe" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Unsafe/index.html">Unsafe</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Unsafe Javascript operations</p></div></div><h3 id="deprecated-functions-and-types."><a href="#deprecated-functions-and-types." class="anchor"></a>Deprecated functions and types.</h3><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_error"><a href="#val-string_of_error" class="anchor"></a><code><span><span class="keyword">val</span> string_of_error : <span><span><a href="class-type-error/index.html">error</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> [since 4.0] Use [Js_error.to_string] instead.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_js_error"><a href="#val-raise_js_error" class="anchor"></a><code><span><span class="keyword">val</span> raise_js_error : <span><span><a href="class-type-error/index.html">error</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> [since 4.0] Use [Js_error.raise_] instead.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-exn_with_js_backtrace"><a href="#val-exn_with_js_backtrace" class="anchor"></a><code><span><span class="keyword">val</span> exn_with_js_backtrace : <span>exn <span class="arrow">&#45;&gt;</span></span> <span><span class="label">force</span>:bool <span class="arrow">&#45;&gt;</span></span> exn</span></code></div><div class="spec-doc"><p>Attach a JavasScript error to an OCaml exception. if <code>force = false</code> and a JavasScript error is already attached, it will do nothing. This function is useful to store and retrieve information about JavaScript stack traces.</p><p>Attaching JavasScript errors will happen automatically when compiling with <code>--enable with-js-error</code>.</p><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> [since 4.0] Use [Js_error.raise_] instead.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-js_error_of_exn"><a href="#val-js_error_of_exn" class="anchor"></a><code><span><span class="keyword">val</span> js_error_of_exn : <span>exn <span class="arrow">&#45;&gt;</span></span> <span><span><a href="class-type-error/index.html">error</a> <a href="#type-t">t</a></span> <a href="#type-opt">opt</a></span></span></code></div><div class="spec-doc"><p>Extract a JavaScript error attached to an OCaml exception, if any. This is useful to inspect an eventual stack strace, especially when sourcemap is enabled.</p><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> [since 4.0] Use [Js_error.of_exn] instead.</li></ul></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Error"><a href="#exception-Error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Error</span> <span class="keyword">of</span> <span><a href="class-type-error/index.html">error</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>The <code>Error</code> exception wrap javascript exceptions when caught by OCaml code. In case the javascript exception is not an instance of javascript <code>Error</code>, it will be serialized and wrapped into a <code>Failure</code> exception.</p><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> [since 4.0] Use [Js_error.Exn] instead.</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-float_prop"><a href="#type-float_prop" class="anchor"></a><code><span><span class="keyword">type</span> float_prop</span><span> = <span><a href="#type-number_t">number_t</a> <a href="#type-prop">prop</a></span></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> [since 2.0].</li></ul></div></div><p>Type of float properties.</p></div></body></html>
