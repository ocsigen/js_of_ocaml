<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Code_generation (wasm_of_ocaml-compiler.Wasm_of_ocaml_compiler.Code_generation)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">wasm_of_ocaml-compiler</a> &#x00BB; <a href="../index.html">Wasm_of_ocaml_compiler</a> &#x00BB; Code_generation</nav><header class="odoc-preamble"><h1>Module <code><span>Wasm_of_ocaml_compiler.Code_generation</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-constant_global"><a href="#type-constant_global" class="anchor"></a><code><span><span class="keyword">type</span> constant_global</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-context"><a href="#type-context" class="anchor"></a><code><span><span class="keyword">type</span> context</span><span> = </span><span>{</span></code><ol><li id="type-context.constants" class="def record field anchored"><a href="#type-context.constants" class="anchor"></a><code><span>constants : <span><span>(<a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a>, <a href="../Wasm_ast/index.html#type-expression">Wasm_ast.expression</a>)</span>
              <span class="xref-unresolved">Stdlib</span>.Hashtbl.t</span>;</span></code></li><li id="type-context.data_segments" class="def record field anchored"><a href="#type-context.data_segments" class="anchor"></a><code><span><span class="keyword">mutable</span> data_segments : <span>string <span class="xref-unresolved">Js_of_ocaml_compiler</span>.Code.Var.Map.t</span>;</span></code></li><li id="type-context.constant_globals" class="def record field anchored"><a href="#type-context.constant_globals" class="anchor"></a><code><span><span class="keyword">mutable</span> constant_globals : <span><a href="#type-constant_global">constant_global</a> <span class="xref-unresolved">Js_of_ocaml_compiler</span>.Code.Var.Map.t</span>;</span></code></li><li id="type-context.other_fields" class="def record field anchored"><a href="#type-context.other_fields" class="anchor"></a><code><span><span class="keyword">mutable</span> other_fields : <span><a href="../Wasm_ast/index.html#type-module_field">Wasm_ast.module_field</a> list</span>;</span></code></li><li id="type-context.imports" class="def record field anchored"><a href="#type-context.imports" class="anchor"></a><code><span><span class="keyword">mutable</span> imports : <span><span><span>(<a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> * <a href="../Wasm_ast/index.html#type-import_desc">Wasm_ast.import_desc</a>)</span>
                    <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Stdlib/StringMap/index.html#type-t">Js_of_ocaml_compiler.Stdlib.StringMap.t</a></span>
                    <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Stdlib/StringMap/index.html#type-t">Js_of_ocaml_compiler.Stdlib.StringMap.t</a></span>;</span></code></li><li id="type-context.type_names" class="def record field anchored"><a href="#type-context.type_names" class="anchor"></a><code><span>type_names : <span><span>(string, <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.Hashtbl.t</span>;</span></code></li><li id="type-context.types" class="def record field anchored"><a href="#type-context.types" class="anchor"></a><code><span>types : <span><span>(<a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a>, <a href="../Wasm_ast/index.html#type-type_field">Wasm_ast.type_field</a>)</span> <span class="xref-unresolved">Stdlib</span>.Hashtbl.t</span>;</span></code></li><li id="type-context.closure_envs" class="def record field anchored"><a href="#type-context.closure_envs" class="anchor"></a><code><span><span class="keyword">mutable</span> closure_envs : <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a>
                         <span class="xref-unresolved">Js_of_ocaml_compiler</span>.Code.Var.Map.t</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>GC: mapping of recursive functions to their shared environment</p><span class="comment-delim">*)</span></div></li><li id="type-context.apply_funs" class="def record field anchored"><a href="#type-context.apply_funs" class="anchor"></a><code><span><span class="keyword">mutable</span> apply_funs : <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a>
                       <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Stdlib/IntMap/index.html#type-t">Js_of_ocaml_compiler.Stdlib.IntMap.t</a></span>;</span></code></li><li id="type-context.cps_apply_funs" class="def record field anchored"><a href="#type-context.cps_apply_funs" class="anchor"></a><code><span><span class="keyword">mutable</span> cps_apply_funs : <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a>
                           <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Stdlib/IntMap/index.html#type-t">Js_of_ocaml_compiler.Stdlib.IntMap.t</a></span>;</span></code></li><li id="type-context.curry_funs" class="def record field anchored"><a href="#type-context.curry_funs" class="anchor"></a><code><span><span class="keyword">mutable</span> curry_funs : <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a>
                       <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Stdlib/IntMap/index.html#type-t">Js_of_ocaml_compiler.Stdlib.IntMap.t</a></span>;</span></code></li><li id="type-context.cps_curry_funs" class="def record field anchored"><a href="#type-context.cps_curry_funs" class="anchor"></a><code><span><span class="keyword">mutable</span> cps_curry_funs : <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a>
                           <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Stdlib/IntMap/index.html#type-t">Js_of_ocaml_compiler.Stdlib.IntMap.t</a></span>;</span></code></li><li id="type-context.dummy_funs" class="def record field anchored"><a href="#type-context.dummy_funs" class="anchor"></a><code><span><span class="keyword">mutable</span> dummy_funs : <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a>
                       <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Stdlib/IntMap/index.html#type-t">Js_of_ocaml_compiler.Stdlib.IntMap.t</a></span>;</span></code></li><li id="type-context.cps_dummy_funs" class="def record field anchored"><a href="#type-context.cps_dummy_funs" class="anchor"></a><code><span><span class="keyword">mutable</span> cps_dummy_funs : <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a>
                           <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Stdlib/IntMap/index.html#type-t">Js_of_ocaml_compiler.Stdlib.IntMap.t</a></span>;</span></code></li><li id="type-context.init_code" class="def record field anchored"><a href="#type-context.init_code" class="anchor"></a><code><span><span class="keyword">mutable</span> init_code : <span><a href="../Wasm_ast/index.html#type-instruction">Wasm_ast.instruction</a> list</span>;</span></code></li><li id="type-context.string_count" class="def record field anchored"><a href="#type-context.string_count" class="anchor"></a><code><span><span class="keyword">mutable</span> string_count : int;</span></code></li><li id="type-context.strings" class="def record field anchored"><a href="#type-context.strings" class="anchor"></a><code><span><span class="keyword">mutable</span> strings : <span>string list</span>;</span></code></li><li id="type-context.string_index" class="def record field anchored"><a href="#type-context.string_index" class="anchor"></a><code><span><span class="keyword">mutable</span> string_index : <span>int <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Stdlib/StringMap/index.html#type-t">Js_of_ocaml_compiler.Stdlib.StringMap.t</a></span>;</span></code></li><li id="type-context.fragments" class="def record field anchored"><a href="#type-context.fragments" class="anchor"></a><code><span><span class="keyword">mutable</span> fragments : <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Javascript/index.html#type-expression">Js_of_ocaml_compiler.Javascript.expression</a>
                      <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Stdlib/StringMap/index.html#type-t">Js_of_ocaml_compiler.Stdlib.StringMap.t</a></span>;</span></code></li><li id="type-context.globalized_variables" class="def record field anchored"><a href="#type-context.globalized_variables" class="anchor"></a><code><span><span class="keyword">mutable</span> globalized_variables : <span class="xref-unresolved">Js_of_ocaml_compiler</span>.Code.Var.Set.t;</span></code></li><li id="type-context.value_type" class="def record field anchored"><a href="#type-context.value_type" class="anchor"></a><code><span>value_type : <a href="../Wasm_ast/index.html#type-value_type">Wasm_ast.value_type</a>;</span></code></li><li id="type-context.unit_name" class="def record field anchored"><a href="#type-context.unit_name" class="anchor"></a><code><span><span class="keyword">mutable</span> unit_name : <span>string option</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_context"><a href="#val-make_context" class="anchor"></a><code><span><span class="keyword">val</span> make_context : <span><span class="label">value_type</span>:<a href="../Wasm_ast/index.html#type-value_type">Wasm_ast.value_type</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-context">context</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-expression"><a href="#type-expression" class="anchor"></a><code><span><span class="keyword">type</span> expression</span><span> = <span><a href="../Wasm_ast/index.html#type-expression">Wasm_ast.expression</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(let*)"><a href="#val-(let*)" class="anchor"></a><code><span><span class="keyword">val</span> (let*) : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-return"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-instr"><a href="#val-instr" class="anchor"></a><code><span><span class="keyword">val</span> instr : <span><a href="../Wasm_ast/index.html#type-instruction">Wasm_ast.instruction</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-seq"><a href="#val-seq" class="anchor"></a><code><span><span class="keyword">val</span> seq : <span><span>unit <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expression">expression</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expression">expression</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-expression_list"><a href="#val-expression_list" class="anchor"></a><code><span><span class="keyword">val</span> expression_list : 
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expression">expression</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Wasm_ast/index.html#type-expression">Wasm_ast.expression</a> list</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Arith"><a href="#module-Arith" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Arith/index.html">Arith</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cast"><a href="#val-cast" class="anchor"></a><code><span><span class="keyword">val</span> cast : <span><span class="optlabel">?nullable</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../Wasm_ast/index.html#type-heap_type">Wasm_ast.heap_type</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expression">expression</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expression">expression</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-load"><a href="#val-load" class="anchor"></a><code><span><span class="keyword">val</span> load : <span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expression">expression</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-tee"><a href="#val-tee" class="anchor"></a><code><span><span class="keyword">val</span> tee : <span><span class="optlabel">?typ</span>:<a href="../Wasm_ast/index.html#type-value_type">Wasm_ast.value_type</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expression">expression</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expression">expression</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-store"><a href="#val-store" class="anchor"></a><code><span><span class="keyword">val</span> store : 
  <span><span class="optlabel">?always</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?typ</span>:<a href="../Wasm_ast/index.html#type-value_type">Wasm_ast.value_type</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-expression">expression</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assign"><a href="#val-assign" class="anchor"></a><code><span><span class="keyword">val</span> assign : <span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expression">expression</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-drop"><a href="#val-drop" class="anchor"></a><code><span><span class="keyword">val</span> drop : <span><a href="#type-expression">expression</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-push"><a href="#val-push" class="anchor"></a><code><span><span class="keyword">val</span> push : <span><a href="#type-expression">expression</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-loop"><a href="#val-loop" class="anchor"></a><code><span><span class="keyword">val</span> loop : <span><a href="../Wasm_ast/index.html#type-func_type">Wasm_ast.func_type</a> <span class="arrow">&#45;&gt;</span></span> <span><span>unit <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-block"><a href="#val-block" class="anchor"></a><code><span><span class="keyword">val</span> block : <span><a href="../Wasm_ast/index.html#type-func_type">Wasm_ast.func_type</a> <span class="arrow">&#45;&gt;</span></span> <span><span>unit <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-block_expr"><a href="#val-block_expr" class="anchor"></a><code><span><span class="keyword">val</span> block_expr : <span><a href="../Wasm_ast/index.html#type-func_type">Wasm_ast.func_type</a> <span class="arrow">&#45;&gt;</span></span> <span><span>unit <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-expression">expression</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-if_"><a href="#val-if_" class="anchor"></a><code><span><span class="keyword">val</span> if_ : <span><a href="../Wasm_ast/index.html#type-func_type">Wasm_ast.func_type</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expression">expression</a> <span class="arrow">&#45;&gt;</span></span> <span><span>unit <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>unit <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-try_expr"><a href="#val-try_expr" class="anchor"></a><code><span><span class="keyword">val</span> try_expr : 
  <span><a href="../Wasm_ast/index.html#type-func_type">Wasm_ast.func_type</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>unit <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> * int * <a href="../Wasm_ast/index.html#type-value_type">Wasm_ast.value_type</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-expression">expression</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_var"><a href="#val-add_var" class="anchor"></a><code><span><span class="keyword">val</span> add_var : <span><span class="optlabel">?typ</span>:<a href="../Wasm_ast/index.html#type-value_type">Wasm_ast.value_type</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-define_var"><a href="#val-define_var" class="anchor"></a><code><span><span class="keyword">val</span> define_var : <span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expression">expression</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_small_constant"><a href="#val-is_small_constant" class="anchor"></a><code><span><span class="keyword">val</span> is_small_constant : <span><a href="../Wasm_ast/index.html#type-expression">Wasm_ast.expression</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_i31_value"><a href="#val-get_i31_value" class="anchor"></a><code><span><span class="keyword">val</span> get_i31_value : <span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> option</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-event"><a href="#val-event" class="anchor"></a><code><span><span class="keyword">val</span> event : <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Parse_info/index.html#type-t">Js_of_ocaml_compiler.Parse_info.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-no_event"><a href="#val-no_event" class="anchor"></a><code><span><span class="keyword">val</span> no_event : <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hidden_location"><a href="#val-hidden_location" class="anchor"></a><code><span><span class="keyword">val</span> hidden_location : <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Parse_info/index.html#type-t">Js_of_ocaml_compiler.Parse_info.t</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-type_def"><a href="#type-type_def" class="anchor"></a><code><span><span class="keyword">type</span> type_def</span><span> = </span><span>{</span></code><ol><li id="type-type_def.supertype" class="def record field anchored"><a href="#type-type_def.supertype" class="anchor"></a><code><span>supertype : <span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> option</span>;</span></code></li><li id="type-type_def.final" class="def record field anchored"><a href="#type-type_def.final" class="anchor"></a><code><span>final : bool;</span></code></li><li id="type-type_def.typ" class="def record field anchored"><a href="#type-type_def.typ" class="anchor"></a><code><span>typ : <a href="../Wasm_ast/index.html#type-str_type">Wasm_ast.str_type</a>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-register_type"><a href="#val-register_type" class="anchor"></a><code><span><span class="keyword">val</span> register_type : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-type_def">type_def</a> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-heap_type_sub"><a href="#val-heap_type_sub" class="anchor"></a><code><span><span class="keyword">val</span> heap_type_sub : <span><a href="../Wasm_ast/index.html#type-heap_type">Wasm_ast.heap_type</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Wasm_ast/index.html#type-heap_type">Wasm_ast.heap_type</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-register_import"><a href="#val-register_import" class="anchor"></a><code><span><span class="keyword">val</span> register_import : 
  <span><span class="optlabel">?import_module</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Wasm_ast/index.html#type-import_desc">Wasm_ast.import_desc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-register_global"><a href="#val-register_global" class="anchor"></a><code><span><span class="keyword">val</span> register_global : 
  <span><a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?exported_name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?constant</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Wasm_ast/index.html#type-global_type">Wasm_ast.global_type</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Wasm_ast/index.html#type-expression">Wasm_ast.expression</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_global"><a href="#val-get_global" class="anchor"></a><code><span><span class="keyword">val</span> get_global : 
  <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Wasm_ast/index.html#type-expression">Wasm_ast.expression</a> option</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-register_data_segment"><a href="#val-register_data_segment" class="anchor"></a><code><span><span class="keyword">val</span> register_data_segment : <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-register_init_code"><a href="#val-register_init_code" class="anchor"></a><code><span><span class="keyword">val</span> register_init_code : <span><span>unit <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init_code"><a href="#val-init_code" class="anchor"></a><code><span><span class="keyword">val</span> init_code : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-register_string"><a href="#val-register_string" class="anchor"></a><code><span><span class="keyword">val</span> register_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-register_fragment"><a href="#val-register_fragment" class="anchor"></a><code><span><span class="keyword">val</span> register_fragment : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Javascript/index.html#type-expression">Js_of_ocaml_compiler.Javascript.expression</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_context"><a href="#val-get_context" class="anchor"></a><code><span><span class="keyword">val</span> get_context : <span><a href="#type-context">context</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-set_closure_env"><a href="#val-set_closure_env" class="anchor"></a><code><span><span class="keyword">val</span> set_closure_env : 
  <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_closure_env"><a href="#val-get_closure_env" class="anchor"></a><code><span><span class="keyword">val</span> get_closure_env : 
  <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_closure"><a href="#val-is_closure" class="anchor"></a><code><span><span class="keyword">val</span> is_closure : <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unit_name"><a href="#val-unit_name" class="anchor"></a><code><span><span class="keyword">val</span> unit_name : <span><span>string option</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-need_apply_fun"><a href="#val-need_apply_fun" class="anchor"></a><code><span><span class="keyword">val</span> need_apply_fun : <span><span class="label">cps</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">arity</span>:int <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-need_curry_fun"><a href="#val-need_curry_fun" class="anchor"></a><code><span><span class="keyword">val</span> need_curry_fun : <span><span class="label">cps</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">arity</span>:int <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-need_dummy_fun"><a href="#val-need_dummy_fun" class="anchor"></a><code><span><span class="keyword">val</span> need_dummy_fun : <span><span class="label">cps</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">arity</span>:int <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-function_body"><a href="#val-function_body" class="anchor"></a><code><span><span class="keyword">val</span> function_body : 
  <span><span class="label">context</span>:<a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">param_names</span>:<span><a href="../../../js_of_ocaml-compiler/Js_of_ocaml_compiler/Code/Var/index.html#type-t">Js_of_ocaml_compiler.Code.Var.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">body</span>:<span>unit <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Wasm_ast/index.html#type-var">Wasm_ast.var</a> * <a href="../Wasm_ast/index.html#type-value_type">Wasm_ast.value_type</a>)</span> list</span> * <span><a href="../Wasm_ast/index.html#type-instruction">Wasm_ast.instruction</a> list</span></span></code></div></div></div></body></html>
