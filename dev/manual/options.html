<html><head><title> Command-line options</title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="stylesheet" href="https://ocsigen.org/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script type="application/javascript" src="https://ocsigen.org/js/client.js">
//<![CDATA[

//]]>
</script><script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js">
//<![CDATA[

//]]>
</script><script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js">
//<![CDATA[

//]]>
</script><script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js">
//<![CDATA[

//]]>
</script><script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js">
//<![CDATA[

//]]>
</script><script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js">
//<![CDATA[

//]]>
</script></head><body class="options js_of_ocaml"><div class="project-page"><div class="page-header"><p class="logo-ocsigen"><a href=".././../../" class="ocsimore_phrasing_link"><img src=".././../../img/ocsigen-white.svg" alt="Ocsigen"/></a>
</p><p class="logo-subproject">Js_of_ocaml</p><div class="mainmenu"><p class="mainmenu-home"><a href=".././../../" class="ocsimore_phrasing_link">Home</a></p><p class="mainmenu-doc"><a href=".././../../tuto/" class="ocsimore_phrasing_link">Doc</a></p><p><a href=".././../../eliom/" class="ocsimore_phrasing_link">Eliom</a></p><p class="mainmenu-current"><a href=".././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a></p><p><a href=".././../../ocsigenserver/" class="ocsimore_phrasing_link">Server</a></p><p><a href=".././../../lwt/" class="ocsimore_phrasing_link">Lwt</a></p><p><a href=".././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a></p><p><a href=".././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a></p></div><form id="googlesearch" action="https://google.com/search"><input name="q" id="gsearch-box" placeholder="Search using Google"/><label for="gsearch-box"><img src="/img/search.svg" alt="" id="gsearch-icon"/></label><input type="submit" id="gsearch-submit" onclick="document.getElementById('gsearch-box').value += ' site:ocsigen.org';"/></form><aside class="how-drawer"><input id="how-drawer-toggle" type="checkbox"/><label for="how-drawer-toggle" id="how-drawer-label"><span class="how-drawer-icon"></span></label><nav class="how-drawer-content"><ul class="drawermainmenu"><li class="drawermainmenu-home"><a href=".././../../" class="ocsimore_phrasing_link">Home</a>
</li><li class="drawermainmenu-doc"><a href=".././../../tuto/" class="ocsimore_phrasing_link">Doc</a>
</li><li class="drawermainmenu-project"><a href=".././../../eliom/" class="ocsimore_phrasing_link">Eliom</a>
</li><li class="drawermainmenu-project"><a href=".././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigenserver/" class="ocsimore_phrasing_link">Server</a>
</li><li class="drawermainmenu-project"><a href=".././../../lwt/" class="ocsimore_phrasing_link">Lwt</a>
</li><li class="drawermainmenu-project"><a href=".././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigen-toolkit/" class="ocsimore_phrasing_link">Toolkit</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsipersist/" class="ocsimore_phrasing_link">Ocsipersist</a>
</li><li class="drawermainmenu-project"><a href=".././../../html_of_wiki/" class="ocsimore_phrasing_link">html_of_wiki</a>
</li><li class="drawermainmenu-project"><a href=".././../../ocsimore/" class="ocsimore_phrasing_link">Ocsimore (<em>deprecated</em>)</a>
</li><li class="drawermainmenu-page"><a href=".././../../projects" class="ocsimore_phrasing_link">Other projects</a>
</li><li class="drawermainmenu-page"><a href=".././../../papers" class="ocsimore_phrasing_link">Research papers</a>
</li><li class="drawermainmenu-page"><a href=".././../../credits" class="ocsimore_phrasing_link">Who does Ocsigen?</a>
</li><li class="drawermainmenu-page"><a href=".././../../contributing" class="ocsimore_phrasing_link">Contributing</a>
</li><li class="drawermainmenu-page"><a href=".././../../blog" class="ocsimore_phrasing_link">Blog</a>
</li><li class="drawermainmenu-page"><a href=".././../../install" class="ocsimore_phrasing_link">Installation</a>
</li><li class="drawermainmenu-page"><a href="https://github.com/ocsigen" class="ocsimore_phrasing_link">Source code</a>
</li></ul><nav class="how-doctree"><h2>Getting Started</h2><h3><a href="overview" class="ocsimore_phrasing_link">Overview</a></h3><h3><a href="quickstart" class="ocsimore_phrasing_link">Quick Start</a></h3><h3><a href="install" class="ocsimore_phrasing_link">Installation</a></h3><h2>Programming Guide</h2><h3><a href="library" class="ocsimore_phrasing_link">Library overview</a></h3><h3><a href="bindings" class="ocsimore_phrasing_link">Binding a JS library</a></h3><h3><a href="rev-bindings" class="ocsimore_phrasing_link">Export OCaml code to JavaScript</a></h3><h3><a href="errors" class="ocsimore_phrasing_link">Error handling</a></h3><h3><span><a href=".././api/js_of_ocaml/">API</a></span></h3><h2>Syntaxes</h2><h3><a href="ppx" class="ocsimore_phrasing_link">Ppx syntax extension</a></h3><h3><a href="ppx-deriving" class="ocsimore_phrasing_link">Ppx deriving json</a></h3><h2>Lwt Support</h2><h3><a href="lwt" class="ocsimore_phrasing_link">Lwt support</a></h3><h3><span><a href=".././api/js_of_ocaml-lwt/">API</a></span></h3><h2>Compiler</h2><h3><a href="options" class="ocsimore_phrasing_link">Command line options</a></h3><h3><a href="linker" class="ocsimore_phrasing_link">Linking JavaScript code</a></h3><h3><a href="compilation-modes" class="ocsimore_phrasing_link">Compilation modes</a></h3><h3><a href="tailcall" class="ocsimore_phrasing_link">Tailcall optimization</a></h3><h3><a href="effects" class="ocsimore_phrasing_link">Effect handlers</a></h3><h2>Wasm_of_ocaml</h2><h3><a href="wasm_overview" class="ocsimore_phrasing_link">Overview</a></h3><h3><a href="wasm_runtime" class="ocsimore_phrasing_link">Writing Wasm primitives</a></h3><h2>How-to Guides</h2><h3><a href="build-toplevel" class="ocsimore_phrasing_link">Build a toplevel or use Dynlink</a></h3><h3><a href="debug" class="ocsimore_phrasing_link">Debug a program</a></h3><h3><a href="performances" class="ocsimore_phrasing_link">Performances</a></h3><h3><a href="contribute" class="ocsimore_phrasing_link">Contribute</a></h3><h2>Examples</h2><h3><span><a href=".././manual/files/toplevel/index.html">OCaml toplevel in the browser</a></span></h3><h3><span><a href=".././manual/files/planet/index.html">Animated 3D view of the Earth</a></span></h3><h3><span><a href=".././manual/files/graph_viewer/index.html">Graph viewer</a></span></h3><h3><span><a href=".././manual/files/boulderdash/index.html">Boulder Dash game</a></span></h3><h3><span><a href=".././manual/files/wiki/index.html">Realtime wiki editor</a></span></h3><h3><span><a href=".././manual/files/webgl/index.html">WebGL demo</a></span></h3><h3><span><a href=".././manual/files/minesweeper/index.html">Minesweeper game</a></span></h3><h3><span><a href=".././manual/files/hyperbolic/index.html">Hyperbolic tree viewer</a></span></h3><h3><span><a href=".././manual/files/cubes/index.html">Random walk on lozenge tilings</a></span></h3></nav></nav></aside></div><p class="reasonwarning">Warning: Reason support is experimental.
We are looking for beta-tester and contributors.
</p><button id="reason">Switch to </button><div class="twocols"><nav class="leftcol">Version <select class="how-versions" onchange="location = this.value;"><option value=".././../dev/manual/options" selected="selected">dev</option><option value=".././../6.2.0/manual/options">6.2.0</option><option value=".././../6.1.0/manual/options">6.1.0</option><option value=".././../6.0.1/manual/options">6.0.1</option><option value=".././../5.9.1/manual/options">5.9.1</option><option value=".././../5.8.2/manual/options">5.8.2</option><option value=".././../5.7.2/manual/options">5.7.2</option><option value=".././../5.6.0/manual/options">5.6.0</option><option value=".././../5.5.2/manual/options">5.5.2</option><option value=".././../5.4.0/manual/options">5.4.0</option><option value=".././../5.3.0/manual/options">5.3.0</option><option value=".././../5.2.0/manual/options">5.2.0</option><option value=".././../5.1.0/manual/options">5.1.0</option><option value=".././../5.0.1/manual/options">5.0.1</option><option value=".././../4.1.0/manual/options">4.1.0</option><option value=".././../4.0.0/manual/options">4.0.0</option><option value=".././../3.11.0/manual/options">3.11.0</option><option value=".././../3.10.0/manual/options">3.10.0</option><option value=".././../3.9.0/manual/options">3.9.0</option><option value=".././../3.8.0/manual/options">3.8.0</option><option value=".././../3.7.0/manual/options">3.7.0</option><option value=".././../3.6.0/manual/options">3.6.0</option><option value=".././../3.5.1/manual/options">3.5.1</option></select><nav class="how-doctree"><h2>Getting Started</h2><h3><a href="overview" class="ocsimore_phrasing_link">Overview</a></h3><h3><a href="quickstart" class="ocsimore_phrasing_link">Quick Start</a></h3><h3><a href="install" class="ocsimore_phrasing_link">Installation</a></h3><h2>Programming Guide</h2><h3><a href="library" class="ocsimore_phrasing_link">Library overview</a></h3><h3><a href="bindings" class="ocsimore_phrasing_link">Binding a JS library</a></h3><h3><a href="rev-bindings" class="ocsimore_phrasing_link">Export OCaml code to JavaScript</a></h3><h3><a href="errors" class="ocsimore_phrasing_link">Error handling</a></h3><h3><span><a href=".././api/js_of_ocaml/">API</a></span></h3><h2>Syntaxes</h2><h3><a href="ppx" class="ocsimore_phrasing_link">Ppx syntax extension</a></h3><h3><a href="ppx-deriving" class="ocsimore_phrasing_link">Ppx deriving json</a></h3><h2>Lwt Support</h2><h3><a href="lwt" class="ocsimore_phrasing_link">Lwt support</a></h3><h3><span><a href=".././api/js_of_ocaml-lwt/">API</a></span></h3><h2>Compiler</h2><h3><a href="options" class="ocsimore_phrasing_link">Command line options</a></h3><h3><a href="linker" class="ocsimore_phrasing_link">Linking JavaScript code</a></h3><h3><a href="compilation-modes" class="ocsimore_phrasing_link">Compilation modes</a></h3><h3><a href="tailcall" class="ocsimore_phrasing_link">Tailcall optimization</a></h3><h3><a href="effects" class="ocsimore_phrasing_link">Effect handlers</a></h3><h2>Wasm_of_ocaml</h2><h3><a href="wasm_overview" class="ocsimore_phrasing_link">Overview</a></h3><h3><a href="wasm_runtime" class="ocsimore_phrasing_link">Writing Wasm primitives</a></h3><h2>How-to Guides</h2><h3><a href="build-toplevel" class="ocsimore_phrasing_link">Build a toplevel or use Dynlink</a></h3><h3><a href="debug" class="ocsimore_phrasing_link">Debug a program</a></h3><h3><a href="performances" class="ocsimore_phrasing_link">Performances</a></h3><h3><a href="contribute" class="ocsimore_phrasing_link">Contribute</a></h3><h2>Examples</h2><h3><span><a href=".././manual/files/toplevel/index.html">OCaml toplevel in the browser</a></span></h3><h3><span><a href=".././manual/files/planet/index.html">Animated 3D view of the Earth</a></span></h3><h3><span><a href=".././manual/files/graph_viewer/index.html">Graph viewer</a></span></h3><h3><span><a href=".././manual/files/boulderdash/index.html">Boulder Dash game</a></span></h3><h3><span><a href=".././manual/files/wiki/index.html">Realtime wiki editor</a></span></h3><h3><span><a href=".././manual/files/webgl/index.html">WebGL demo</a></span></h3><h3><span><a href=".././manual/files/minesweeper/index.html">Minesweeper game</a></span></h3><h3><span><a href=".././manual/files/hyperbolic/index.html">Hyperbolic tree viewer</a></span></h3><h3><span><a href=".././manual/files/cubes/index.html">Random walk on lozenge tilings</a></span></h3></nav></nav><article class="rightcol"><h1> Command-line options</h1><p>This page documents the command-line options for the <span class="teletype">js_of_ocaml</span> compiler.
</p><h2 id="general"> General options <a class="backref" href="#general">&#182;</a></h2><table><tr><th> Option </th><th> Description </th></tr><tr><td> <span class="teletype">--version</span> </td><td> Display the compiler version </td></tr><tr><td> <span class="teletype">-o &lt;file&gt;</span> </td><td> Set output filename </td></tr><tr><td> <span class="teletype">--opt {1,2,3}</span> </td><td> Set optimization profile (default: 1). See <a href="#optimizations" class="ocsimore_phrasing_link">Optimizations</a> </td></tr><tr><td> <span class="teletype">--enable &lt;opt&gt;</span> </td><td> Enable option. See <a href="#enable-disable" class="ocsimore_phrasing_link">Enable/Disable options</a> </td></tr><tr><td> <span class="teletype">--disable &lt;opt&gt;</span> </td><td> Disable option. See <a href="#enable-disable" class="ocsimore_phrasing_link">Enable/Disable options</a> </td></tr><tr><td> <span class="teletype">-I &lt;dir&gt;</span> </td><td> Add directory to the list of include directories </td></tr></table><h2 id="debugging"> Debugging <a class="backref" href="#debugging">&#182;</a></h2><table><tr><th> Option </th><th> Description </th></tr><tr><td> <span class="teletype">--pretty</span> </td><td> Pretty print JavaScript output, preserve OCaml variable names </td></tr><tr><td> <span class="teletype">--no-inline</span> </td><td> Disable code inlining </td></tr><tr><td> <span class="teletype">--debug-info</span> </td><td> Output debug information (source locations) </td></tr><tr><td> <span class="teletype">--source-map</span> </td><td> Generate source map. See <a href="#source-maps" class="ocsimore_phrasing_link">Source maps</a> </td></tr></table><h2 id="target-env"> Target environment <a class="backref" href="#target-env">&#182;</a></h2><table><tr><th> Option </th><th> Description </th></tr><tr><td> <span class="teletype">--target-env &lt;env&gt;</span> </td><td> Build for target environment (default: <span class="teletype">isomorphic</span>) </td></tr></table><p>Possible values:
</p><ul><li> <strong><span class="teletype">isomorphic</span></strong> - Runs in both browser and Node.js (default)
</li><li> <strong><span class="teletype">browser</span></strong> - Browser-specific, smaller output
</li><li> <strong><span class="teletype">nodejs</span></strong> - Node.js-specific, smaller output
</li></ul><h2 id="effects"> Effect handlers <a class="backref" href="#effects">&#182;</a></h2><table><tr><th> Option </th><th> Description </th></tr><tr><td> <span class="teletype">--effects &lt;mode&gt;</span> </td><td> Select effect handler implementation (default: <span class="teletype">disabled</span>) </td></tr></table><p>Possible values:
</p><ul><li> <strong><span class="teletype">disabled</span></strong> - No effect handler support (default)
</li><li> <strong><span class="teletype">cps</span></strong> - CPS transformation for effect support
</li><li> <strong><span class="teletype">double-translation</span></strong> - Keep both direct and CPS versions; choose at runtime
</li></ul><p>See <span><a href=".././manual/effects">Effect handlers</a></span> for details.
</p><h2 id="source-maps"> Source maps <a class="backref" href="#source-maps">&#182;</a></h2><table><tr><th> Option </th><th> Description </th></tr><tr><td> <span class="teletype">--source-map</span> </td><td> Generate source map (separate file) </td></tr><tr><td> <span class="teletype">--no-source-map</span> </td><td> Don't generate source map </td></tr><tr><td> <span class="teletype">--source-map-inline</span> </td><td> Inline source map in the JavaScript output </td></tr><tr><td> <span class="teletype">--source-map-no-source</span> </td><td> Don't embed source code in source map </td></tr><tr><td> <span class="teletype">--source-map-root &lt;dir&gt;</span> </td><td> Set root directory for source map paths </td></tr></table><h2 id="pseudo-fs"> Pseudo filesystem <a class="backref" href="#pseudo-fs">&#182;</a></h2><p>Js_of_ocaml provides a pseudo filesystem for programs that read files at runtime.
</p><table><tr><th> Option </th><th> Description </th></tr><tr><td> <span class="teletype">--file &lt;file&gt;[:&lt;target&gt;]</span> </td><td> Register file to pseudo filesystem (default target: <span class="teletype">/static/</span>) </td></tr><tr><td> <span class="teletype">--ofs &lt;file&gt;</span> </td><td> Write filesystem data to separate file </td></tr><tr><td> <span class="teletype">--extern-fs</span> </td><td> Allow accessing files outside embedded fs (default) </td></tr><tr><td> <span class="teletype">--no-extern-fs</span> </td><td> Only allow embedded filesystem access </td></tr></table><h2 id="env-vars"> Environment variables <a class="backref" href="#env-vars">&#182;</a></h2><table><tr><th> Option </th><th> Description </th></tr><tr><td> <span class="teletype">--setenv &lt;VAR&gt;=&lt;value&gt;</span> </td><td> Set environment variable at compile time </td></tr></table><h3> Resolution order</h3><p>When OCaml code calls <span class="teletype">Sys.getenv</span>, js_of_ocaml resolves variables in this order:
</p><ol><li> If the variable was set at compile time with <span class="teletype">--setenv VAR=value</span>, return it
</li><li> If running in Node.js, check <span class="teletype">process.env</span>
</li><li> Check <span class="teletype">globalThis.jsoo_env</span> (useful for setting variables in browsers)
</li><li> Raise <span class="teletype">Not_found</span>
</li></ol><h3> Browser example</h3><pre class="manually-translated"><code class="language-javascript">// Set environment variables before loading the OCaml program
globalThis.jsoo_env = {
  DEBUG: &quot;true&quot;,
  API_URL: &quot;https://api.example.com&quot;
};</code></pre><h2 id="toplevel"> Toplevel and dynamic linking <a class="backref" href="#toplevel">&#182;</a></h2><table><tr><th> Option </th><th> Description </th></tr><tr><td> <span class="teletype">--toplevel</span> </td><td> Compile an OCaml toplevel (embeds necessary .cmi files) </td></tr><tr><td> <span class="teletype">--no-cmis</span> </td><td> Don't include .cmi files in toplevel </td></tr><tr><td> <span class="teletype">--dynlink</span> </td><td> Enable dynamic linking of bytecode </td></tr><tr><td> <span class="teletype">--export &lt;file&gt;</span> </td><td> File listing units to export for toplevel/dynlink </td></tr><tr><td> <span class="teletype">--linkall</span> </td><td> Link all compilation units and primitives </td></tr></table><p>See <span><a href=".././manual/build-toplevel">Building a toplevel</a></span> for details.
</p><h2 id="compilation-modes"> Compilation modes <a class="backref" href="#compilation-modes">&#182;</a></h2><table><tr><th> Option </th><th> Description </th></tr><tr><td> <span class="teletype">--noruntime</span> </td><td> Don't include the standard runtime </td></tr><tr><td> <span class="teletype">--include-runtime</span> </td><td> Include partial runtime when compiling .cmo/.cma </td></tr><tr><td> <span class="teletype">--keep-unit-names</span> </td><td> Preserve unit names (for separate compilation) </td></tr><tr><td> <span class="teletype">--wrap-with-fun[=&lt;name&gt;]</span> </td><td> Wrap output in a function (default: IIFE) </td></tr><tr><td> <span class="teletype">--custom-header &lt;text&gt;</span> </td><td> Add custom header (e.g., <span class="teletype">#!/usr/bin/env node</span>) </td></tr></table><p>See <span><a href=".././manual/compilation-modes">Compilation modes</a></span> for details.
</p><h2 id="optimizations"> Optimizations <a class="backref" href="#optimizations">&#182;</a></h2><h3> Optimization profiles</h3><p>Use <span class="teletype">--opt &lt;level&gt;</span> to select a profile:
</p><ul><li> <strong><span class="teletype">--opt 1</span></strong> - Basic optimizations (default)
</li><li> <strong><span class="teletype">--opt 2</span></strong> - Standard optimizations
</li><li> <strong><span class="teletype">--opt 3</span></strong> - Maximum optimizations (iterates until fix-point)
</li></ul><h3> Recommended settings</h3><p>For debugging:
</p><pre>js_of_ocaml --pretty --no-inline --debug-info program.byte
</pre><p>For production:
</p><pre>js_of_ocaml --opt 3 program.byte
</pre><h2 id="enable-disable"> Enable/Disable options <a class="backref" href="#enable-disable">&#182;</a></h2><p>Use <span class="teletype">--enable &lt;opt&gt;</span> or <span class="teletype">--disable &lt;opt&gt;</span> to control these flags:
</p><h3> Output formatting</h3><table><tr><th> Option </th><th> Default </th><th> Description </th></tr><tr><td> <span class="teletype">pretty</span> </td><td> false </td><td> Pretty print JavaScript output </td></tr><tr><td> <span class="teletype">debuginfo</span> </td><td> false </td><td> Include source location comments </td></tr><tr><td> <span class="teletype">shortvar</span> </td><td> true </td><td> Use short variable names </td></tr><tr><td> <span class="teletype">stable_var</span> </td><td> false </td><td> Use stable (predictable) variable names </td></tr><tr><td> <span class="teletype">strict</span> </td><td> true </td><td> Generate &quot;use strict&quot; </td></tr><tr><td> <span class="teletype">header</span> </td><td> true </td><td> Include compiler version header </td></tr><tr><td> <span class="teletype">es6</span> </td><td> false </td><td> Generate ES6 syntax </td></tr></table><h3> Optimizations</h3><table><tr><th> Option </th><th> Default </th><th> Description </th></tr><tr><td> <span class="teletype">deadcode</span> </td><td> true </td><td> Dead code elimination </td></tr><tr><td> <span class="teletype">globaldeadcode</span> </td><td> true </td><td> Global dead code elimination </td></tr><tr><td> <span class="teletype">inline</span> </td><td> true </td><td> Function inlining </td></tr><tr><td> <span class="teletype">staticeval</span> </td><td> true </td><td> Static evaluation of constants </td></tr><tr><td> <span class="teletype">share</span> </td><td> true </td><td> Share string and number constants </td></tr><tr><td> <span class="teletype">optcall</span> </td><td> true </td><td> JavaScript call optimizations </td></tr></table><h3> Runtime behavior</h3><table><tr><th> Option </th><th> Default </th><th> Description </th></tr><tr><td> <span class="teletype">effects</span> </td><td> false </td><td> Enable effect handlers </td></tr><tr><td> <span class="teletype">excwrap</span> </td><td> true </td><td> Wrap JavaScript exceptions in OCaml exceptions </td></tr><tr><td> <span class="teletype">with-js-error</span> </td><td> false </td><td> Attach JavaScript stack traces to OCaml exceptions </td></tr><tr><td> <span class="teletype">debugger</span> </td><td> true </td><td> Keep <span class="teletype">debugger</span> statements (stripped if false) </td></tr><tr><td> <span class="teletype">genprim</span> </td><td> true </td><td> Generate dummy primitives when missing </td></tr><tr><td> <span class="teletype">use-js-string</span> </td><td> true </td><td> Use JavaScript strings internally </td></tr><tr><td> <span class="teletype">auto-link</span> </td><td> true </td><td> Automatically link required runtime files </td></tr></table><h2 id="parameters"> Compiler parameters <a class="backref" href="#parameters">&#182;</a></h2><p>Use <span class="teletype">--set &lt;param&gt;=&lt;value&gt;</span> to tune compiler behavior:
</p><table><tr><th> Parameter </th><th> Default </th><th> Description </th></tr><tr><td> <span class="teletype">switch_size</span> </td><td> 60 </td><td> Max cases before switch becomes if-else chain </td></tr><tr><td> <span class="teletype">inlining-limit</span> </td><td> 150 </td><td> Size threshold for function inlining </td></tr><tr><td> <span class="teletype">tc_depth</span> </td><td> 50 </td><td> Max tail-call depth before trampoline </td></tr><tr><td> <span class="teletype">tc</span> </td><td> trampoline </td><td> Tail-call mode: <span class="teletype">trampoline</span> or <span class="teletype">none</span> </td></tr></table><h2 id="warnings"> Warnings <a class="backref" href="#warnings">&#182;</a></h2><table><tr><th> Option </th><th> Description </th></tr><tr><td> <span class="teletype">--quiet</span> / <span class="teletype">-q</span> </td><td> Suppress non-error messages </td></tr><tr><td> <span class="teletype">--Werror</span> </td><td> Treat warnings as errors </td></tr><tr><td> <span class="teletype">-w &lt;warning&gt;</span> </td><td> Enable warning </td></tr><tr><td> <span class="teletype">-w no-&lt;warning&gt;</span> </td><td> Disable warning </td></tr></table><p>Available warnings:
</p><table><tr><th> Warning </th><th> Default </th><th> Description </th></tr><tr><td> <span class="teletype">missing-primitive</span> </td><td> on </td><td> Missing JavaScript primitive implementation </td></tr><tr><td> <span class="teletype">missing-cmi</span> </td><td> on </td><td> Missing .cmi file </td></tr><tr><td> <span class="teletype">missing-deps</span> </td><td> on </td><td> Missing dependencies </td></tr><tr><td> <span class="teletype">missing-effects-backend</span> </td><td> on </td><td> Using effects without <span class="teletype">--effects</span> </td></tr><tr><td> <span class="teletype">integer-overflow</span> </td><td> on </td><td> Integer overflow in constant </td></tr><tr><td> <span class="teletype">overriding-primitive</span> </td><td> on </td><td> Overriding an existing primitive </td></tr><tr><td> <span class="teletype">deprecated-primitive</span> </td><td> on </td><td> Using deprecated primitive </td></tr><tr><td> <span class="teletype">free-variables</span> </td><td> on </td><td> Free variables in primitive code </td></tr></table><h2 id="debug-output"> Debug output <a class="backref" href="#debug-output">&#182;</a></h2><p>Use <span class="teletype">--debug &lt;section&gt;</span> to enable debug output for compiler internals:
</p><p><span class="teletype">times</span>, <span class="teletype">stats</span>, <span class="teletype">deadcode</span>, <span class="teletype">globaldeadcode</span>, <span class="teletype">inlining</span>,
<span class="teletype">gen</span>, <span class="teletype">linker</span>, <span class="teletype">sourcemap</span>, <span class="teletype">flow</span>, <span class="teletype">parser</span>
</p><h2 id="subcommands"> Subcommands <a class="backref" href="#subcommands">&#182;</a></h2><p>The <span class="teletype">js_of_ocaml</span> command has several subcommands:
</p><table><tr><th> Command </th><th> Description </th></tr><tr><td> <span class="teletype">js_of_ocaml compile</span> </td><td> Compile bytecode to JavaScript (default) </td></tr><tr><td> <span class="teletype">js_of_ocaml link</span> </td><td> Link JavaScript files together </td></tr><tr><td> <span class="teletype">js_of_ocaml build-runtime</span> </td><td> Build standalone runtime </td></tr><tr><td> <span class="teletype">js_of_ocaml build-fs</span> </td><td> Build pseudo filesystem </td></tr></table><h3> Link command</h3><pre>js_of_ocaml link -o output.js runtime.js lib1.js lib2.js main.js
</pre><p>Additional options:
</p><table><tr><th> Option </th><th> Description </th></tr><tr><td> <span class="teletype">-a</span> </td><td> Build a library (.cma.js) </td></tr><tr><td> <span class="teletype">--resolve-sourcemap-url</span> </td><td> Resolve source map URLs </td></tr></table><h3> Build-runtime command</h3><pre>js_of_ocaml build-runtime -o runtime.js
</pre><p>Accepts the same <span class="teletype">--enable</span>/<span class="teletype">--disable</span> options as the main command.
</p><h3> Build-fs command</h3><pre>js_of_ocaml build-fs -o fs.js file1.txt file2.dat
</pre><p>Builds a JavaScript file containing filesystem data.</p></article></div></div></body></html>
